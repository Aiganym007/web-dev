<article class="card">
  <div class="imgWrap" (click)="openKaspi()" role="button" tabindex="0">
    <img class="mainImg" [src]="selectedImage" [alt]="product().name" />
  </div>

  @if (product().images?.length) {
    <div class="thumbs">
      @for (img of product().images; track $index) {
        <button class="thumbBtn" type="button" (click)="selectImage($index)" [class.active]="$index === selectedImageIndex">
          <img [src]="img" [alt]="product().name" />
        </button>
      }
    </div>
  }

  <h3 class="name">
    <a [href]="product().link" target="_blank" rel="noopener noreferrer">{{ product().name }}</a>
  </h3>

  <p class="desc">{{ product().description }}</p>

  <div class="row">
    <div class="price">{{ product().price | number }} ₸</div>
    <div class="badge">⭐ {{ product().rating }}</div>
  </div>

  <div class="likesRow">
    <button class="likeBtn" type="button" (click)="like()">❤ Like</button>
    <span class="likes">❤ {{ product().likes }}</span>
  </div>

  <div class="actions">
    <button type="button" (click)="shareWhatsApp()">WhatsApp</button>
    <button type="button" (click)="shareTelegram()">Telegram</button>
  </div>

  <button class="deleteBtn" type="button" (click)="onDelete()">Delete</button>
</article>