<article class="card">
  <div class="imgWrap" (click)="openKaspi()" role="button" tabindex="0">
    <img class="mainImg" [src]="selectedImage" [alt]="product.name" />
  </div>

  <div class="thumbs" *ngIf="product.images?.length">
    <button
      class="thumbBtn"
      type="button"
      *ngFor="let img of product.images; let i = index"
      (click)="selectImage(i)"
      [class.active]="i === selectedImageIndex"
    >
      <img [src]="img" [alt]="product.name + ' thumbnail ' + (i + 1)" />
    </button>
  </div>

  <h3 class="name">
    <a [href]="product.link" target="_blank" rel="noopener noreferrer">{{ product.name }}</a>
  </h3>

  <p class="desc">{{ product.description }}</p>

  <div class="row">
    <div class="price">{{ product.price | number }} ₸</div>

    <div class="rating" [title]="'Rating: ' + product.rating">
      <span class="star" *ngFor="let _ of [].constructor(fullStars)">★</span>
      <span class="star empty" *ngFor="let _ of [].constructor(emptyStars)">★</span>
      <span class="badge">{{ product.rating }}</span>
    </div>
  </div>

  <div class="actions">
    <button type="button" (click)="shareWhatsApp()">WhatsApp</button>
    <button type="button" (click)="shareTelegram()">Telegram</button>
  </div>
</article>
